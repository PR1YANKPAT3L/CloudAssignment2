(function () {
	define(['angular', 'angularAnimate', 'angularMaterial', 'angularRouter', 'angular-cache', 'facebook'], function (angular, angularAnimate, angularMaterial, angularRouter, facebook) {
		'use strict';

		var app;
    
    // Create CLAPP Module as the main app module
		app = angular.module('CLAPP', ['ngAnimate', 'ngMaterial', 'ui.router', 'angular-cache']);

		app.config(function ($stateProvider, $urlRouterProvider, CacheFactoryProvider) {
			// Set Max Age for Caching
			angular.extend(CacheFactoryProvider.defaults, {
				maxAge: 15 * 60 * 1000
			});
			//$urlRouterProvider.otherwise('/login');

			$stateProvider
			.state('login', {
				url: '/login',
				templateUrl: 'partials/login/login.html'
			})
			.state('dashboard', {
				url: '/dashboard',
				templateUrl: 'partials/dashboard/base.html'
			})
			.state('dashboard.home', {
				url: '/home',
				templateUrl: 'partials/dashboard/home/home.html'
			});
		});

		return app;
	});
}).call(this);
